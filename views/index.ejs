<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
</head>
<body>
    <h1><%= title %></h1>

    <!-- add a form with a get method which accepts the user's name or email for searching   -->
    <form action="/search" method="GET">
        <label for="search">Search by name or email: </label>
        <input type="search" name="search" id="search" />
        <button type="submit">Search</button>
    </form>
    <br>
    <br>
    <br>

    <ul>
        <% if (locals.users) {%>
            <% users.forEach(user => { %>
                <li>
                    ID: <%= user.id%>
                    <br>
                    Name: <%= user.firstName%> <%= user.lastName %> 
                    <br>
                    Email: <%= user.email%>
                    <br>
                    Age: <%= user.age%>
                    <br>
                    Bio: <%= user.bio%>
                    <br>
                    <a href="/<%= user.id %>/update">update</a>
                    <form action="/<%= user.id %>/delete" method="POST">
                        <button type="submit" onclick="return confirm('Are you sure you want to delete this user?')">Delete</button>
                    </form>
                </li>
                <br>
            <% }); %>
        <% } %>
    </ul>

    <a href="/create">Create a user</a>

</body>
</html>